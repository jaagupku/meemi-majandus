function loadVoting(a,f){var d=["Down","Remove","Up"];var c=function(g,h,j){g.find(".active-vote").removeClass("active-vote");if(h==1){g.find(".upvote").addClass("active-vote")}else{if(h==-1){g.find(".downvote").addClass("active-vote")}}var i=g.find(".points").first();i.html(parseInt(i.html())+(h-j))};var e=function(g){var h=g.find(".active-vote");if(h.length==0){return 0}return h.first().hasClass("upvote")?1:-1};var b=function(g,h){var j=g.attr("data-id");var i=e(g);h=h==i?0:h;$.ajax({url:location.protocol+"//"+location.hostname+"/voting/"+f,type:"post",data:{id:j,vote:h},success:function(){ga("send",{hitType:"event",eventCategory:"Voting",eventAction:d[h+1],eventLabel:f,eventValue:parseInt(j)});console.log(parseInt(j));c(g,h,i)},error:function(m,k,l){if(l=="Not Found"){$("#signuploginmodal").modal()}else{alert(k+": "+l)}}})};$(document).on("click tap",".upvote",function(){b($(this).closest("."+a),1)});$(document).on("click tap",".downvote",function(){b($(this).closest("."+a),-1)})};